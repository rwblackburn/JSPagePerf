var JSPagePerf=function(g,h){var e=!1,f=h,d=g,m=function(c){if(!e){var b;b=window.performance.timing;b={total:b.loadEventEnd-b.navigationStart,redirect:b.redirectEnd-b.redirectStart,appCache:b.domainLookupStart-b.fetchStart,dns:b.domainLookupEnd-b.domainLookupStart,tcp:b.connectEnd-b.connectStart,request:b.responseStart-b.requestStart,response:b.responseEnd-b.responseStart,processing:b.loadEventStart-b.domLoading,loadEvent:b.loadEventEnd-b.loadEventStart,processingToInteractive:b.domInteractive-b.domLoading,
processingToContentLoaded:b.domContentLoadedEventEnd-b.domInteractive,processingToComplete:b.loadEventStart-b.domContentLoadedEventEnd};$("#totalTime").text("("+b.total+"ms)");$("#processingTime").text("("+b.processing+"ms)");void 0!=google&&void 0!=google.visualization&&void 0!=google.visualization.BarChart?k(c,b):l(c,b);e=!0}return this},k=function(c,b){var a={width:"100%",height:100,isStacked:!0,legend:{position:"top"},chartArea:{left:0,right:0,width:"100%"}},d=google.visualization.arrayToDataTable(["Step;Redirect;App Cache;DNS;TCP;Request;Response;DOM Processing;Load Events".split(";"),
["Time",b.redirect,b.appCache,b.dns,b.tcp,b.request,b.response,b.processing,b.loadEvent]]),e=google.visualization.arrayToDataTable([["Step","MS to Interactive","MS to Content Loaded","MS to Complete"],["Time",b.processingToInteractive,b.processingToContentLoaded,b.processingToComplete]]);a.colors="#CCCCCC #FDC57B F98E1C #D2640F #C45200 #B13B00 #870E03 #481830".split(" ");(new google.visualization.BarChart(c.find("#chartAll")[0])).draw(d,a);a.colors=["#870E03","#B13B00","#C45200"];(new google.visualization.BarChart(c.find("#chartProcessing")[0])).draw(e,
a);return this},l=function(c,b){var a;a="\x3ctable\x3e   \x3ctr\x3e";a+="     \x3cth\x3eStep\x3c/th\x3e";a+="     \x3cth\x3eTime (MS)\x3c/th\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eRedirect\x3c/td\x3e";a+="     \x3ctd\x3e"+b.redirect+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eApp Cache\x3c/td\x3e";a+="     \x3ctd\x3e"+b.appCache+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eDNS\x3c/td\x3e";a+="     \x3ctd\x3e"+b.dns+"\x3c/td\x3e";
a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eTCP\x3c/td\x3e";a+="     \x3ctd\x3e"+b.tcp+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eRequest\x3c/td\x3e";a+="     \x3ctd\x3e"+b.request+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eResponse\x3c/td\x3e";a+="     \x3ctd\x3e"+b.response+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eDOM Processing\x3c/td\x3e";a+="     \x3ctd\x3e"+b.processing+"\x3c/td\x3e";a+="   \x3c/tr\x3e";
a+="   \x3ctr\x3e";a+="     \x3ctd\x3eLoad Events\x3c/td\x3e";a+="     \x3ctd\x3e"+b.loadEvent+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="\x3c/table\x3e";c.find("#chartAll").html(a);a="\x3ctable\x3e";a+="   \x3ctr\x3e";a+="     \x3cth\x3eStep\x3c/th\x3e";a+="     \x3cth\x3eTime (MS)\x3c/th\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eMS to Interactive\x3c/td\x3e";a+="     \x3ctd\x3e"+b.processingToInteractive+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eMS to Content Loaded\x3c/td\x3e";
a+="     \x3ctd\x3e"+b.processingToContentLoaded+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="   \x3ctr\x3e";a+="     \x3ctd\x3eMS to Complete\x3c/td\x3e";a+="     \x3ctd\x3e"+b.processingToComplete+"\x3c/td\x3e";a+="   \x3c/tr\x3e";a+="\x3c/table\x3e";c.find("#chartProcessing").html(a);c.find("table").addClass("ui-widget").css("border-collapse","collapse");c.find("th").addClass("ui-widget-header").css("padding","0.2em");c.find("td").addClass("ui-widget-content").css("padding","0.2em");return this};(function(){var c=
void 0,b=void 0,b="";void 0===d&&(d=$("body"));void 0===f&&(f={});b+='\x3cdiv title\x3d"JSPagePerf - Page Performance"\x3e   \x3ch2\x3eTotal Page Time \x3cspan id\x3d"totalTime"\x3e\x3c/span\x3e\x3c/h2\x3e';b+='   \x3cdiv id\x3d"chartAll" style\x3d"width: 100%;"\x3e\x3c/div\x3e';b+='   \x3ch2\x3eDOM Processing \x3cspan id\x3d"processingTime"\x3e\x3c/span\x3e\x3c/h2\x3e';b+='   \x3cdiv id\x3d"chartProcessing" style\x3d"width: 100%;"\x3e\x3c/div\x3e';b+='   \x3ca href\x3d"https://github.com/rwblackburn/JSPagePerf" style\x3d"float: right;"\x3ehelp\x3c/a\x3e';
b+="\x3c/div\x3e";c=$(b).hide();b=$('\x3cdiv style\x3d"position:absolute; bottom: 6px; right: 6px;"\x3eJSPagePerf\x3c/div\x3e').button().click(function(a){a.preventDefault();a.stopPropagation();c.dialog({minWidth:680});m(c)});d.append(b);d.append(c);return this})()};